datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

generator client {
  provider      = "prisma-client-js"
  binaryTargets = "native"
}

model Exploitation {
  id                    Int     @id @default(autoincrement())
  tourneeId             Int
  immatriculation       String
  operateur             String
  date                  DateTime @default(now())
  type                  String
  clientId              Int
  client                String
  site                  String
  nbContenant           Int
  typeContenant         String
  matiere               String
  poids                 Int
  qualite3              Int
  qualite2              Int
  qualite1              Int
  commentairesRDV       String
  commentairesContenu   String
  photos                String
}

model Tournee {
  id                    Int       @id @default(autoincrement())
  date                  DateTime
  note                  String
  vehicule              Int
  operateur1            Int
  operateur2            Int
  operateur3            Int
}

model Etape {
  id                    Int       @id @default(autoincrement())
  debut                 DateTime
  fin                   DateTime
  site                  Int
  prestation            Int
}

model Usager {
  id                    Int     @id @default(autoincrement())
  nom                   String
  tiers                 String
  contact               String
  adresse               String
  adresse2              String
  codePostal            String
  ville                 String
  email                 String
  telephone1            String
  telephone2            String
  note                  String
  actif                 Boolean
}

model Contact {
  id          Int     @id @default(autoincrement())
  usager      Int
  ordre       Int
  prenom      String
  nom         String
  email       String
  motdepasse  String
  telephone1  String
  telephone2  String
  remarque    String
  fonction    String
  extranet    Boolean
  actif       Boolean
}

model Site {
  id                    Int     @id @default(autoincrement())
  usager                Int
  ordre                 Int
  nom                   String
  adresse               String
  adresse2              String
  codePostal            String
  ville                 String
  latitude              String
  longitude             String
  etage                 Int
  ascenseur             Boolean
  note                  String
  actif                 Boolean
}
 
model Prestation {
  id                    Int     @id @default(autoincrement())
  site                  Int
  matiere               Int
  date                  DateTime
  operation             Int
  prix                  Float
  forfait               Boolean
  actif                 Boolean
}

model Operation {
  id      Int     @id @default(autoincrement())
  nom     String
  actif   Boolean
}

model Materiel {
  id                Int     @id @default(autoincrement())
  nom               String
  poids             Int
  actif             Boolean
}

model Inventaire {
  id            Int     @id @default(autoincrement())
  site          Int
  materiel      Int
  quantite      Int
  note          String
  actif         Boolean
}

model Operateur {
  id        Int     @id @default(autoincrement())
  prenom    String
  nom       String
  actif     Boolean
}

model Vehicule {
  id              Int     @id @default(autoincrement())
  ordre           Int
  nom             String
  immatriculation String
  identifiant     String
  couleur         String
  icone           String
  actif           Boolean
}

model Matiere {
  id        Int     @id @default(autoincrement())
  nom       String
  actif     Boolean
}